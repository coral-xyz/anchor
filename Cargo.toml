[profile.release]
lto = true

[profile.release.package.anchor-cli]
codegen-units = 1

[workspace]
members = [
    "avm",
    "cli",
    "client",
    "lang",
    "lang/attribute/*",
    "lang/derive/*",
    "lang/syn",
    "spl",
]
exclude = [
    "tests/swap/deps/openbook-dex",
    "tests/cfo/deps/openbook-dex",
]

[workspace.dependencies]
anyhow                  = "1.0.32"
cfg-if                  = "1.0.0"
clap                    = "4.2.4"
dirs                    = "4.0.0"
once_cell               = "1.8.0"
reqwest                 = { version = "0.11.9", default-features = false}
semver                  = "1.0.4"
serde                   = { version = "1.0.136", default-features = false }
serde_json              = "1.0.78"
tempfile                = "3.3.0"
thiserror               = "1.0.30"
base64                  = "0.13.1"
bincode                 = "1.3.3"
cargo_toml              = "0.13.0"
chrono                  = "0.4.19"
flate2                  = "1.0.19"
heck                    = "0.4.0"
pathdiff                = "0.2.0"
portpicker              = "0.1.1"
regex                   = "1.8.3"
shellexpand             = "2.1.0"
borsh-derive-internal   = ">=0.9, <0.11"
syn                     = "1.0.60"
tar                     = "0.4.35"
tokio                   = "~1.14.1"
toml                    = "0.5.8"
walkdir                 = "2.3.2"
url                     = "2"
futures                 = "0.3"
bs58                    = "0.5"
proc-macro2             = "1"
quote                   = "1"
sha2                    = "0.10"
rustversion             = "1"
arrayref                = "0.3"
borsh                   = ">=0.9, <0.11"
bytemuck                = "1"
getrandom               = "0.2"

# Solana dependencies
solana-client           = ">=1.14, <1.17"
solana-cli-config       = ">=1.14, <1.17"
solana-faucet           = ">=1.14, <1.17"
solana-program          = ">=1.14, <1.17"
solana-sdk              = ">=1.14, <1.17"
solana-account-decoder  = ">=1.14, <1.17"
solang-parser           = "=0.2.3"
solana-program-test     = ">=1.14, <1.17"

# Spl program
mpl-token-metadata              = "1.11"
spl-associated-token-account    = "^1.1"
spl-token                       = "3.5"
spl-token-2022                  = "0.6"


# Anchor local crate
anchor-client           = { path = "./client", version = "0.28.0" }
anchor-lang             = { path = "./lang", version = "0.28.0" }
anchor-syn              = { path = "./lang/syn", version = "0.28.0" }

anchor-attribute-access-control     = { path = "./lang/attribute/access-control", version = "0.28.0" }
anchor-attribute-account            = { path = "./lang/attribute/account", version = "0.28.0" }
anchor-attribute-constant           = { path = "./lang/attribute/constant", version = "0.28.0" }
anchor-attribute-error              = { path = "./lang/attribute/error", version = "0.28.0" }
anchor-attribute-event              = { path = "./lang/attribute/event", version = "0.28.0" }
anchor-attribute-program            = { path = "./lang/attribute/program", version = "0.28.0" }
anchor-derive-accounts              = { path = "./lang/derive/accounts", version = "0.28.0" }
anchor-derive-serde                 = { path = "./lang/derive/serde", version = "0.28.0" }
anchor-derive-space                 = { path = "./lang/derive/space", version = "0.28.0" }
