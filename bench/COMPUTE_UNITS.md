# Compute Units

All notable changes in compute units usage will be documented in this file.

The changes are calculated by comparing the current results with the last version's results. Increase in usage is shown with 游댮 and decrease is shown with 游릭.

The programs and their tests are located in [/tests/bench](https://github.com/coral-xyz/anchor/tree/master/tests/bench).

> **Note**
> Results documented in this file are autogenerated. Running the tests will update the current results when necessary, manually editing the results should be avoided.

> **Warning**
> Results may vary depending on Solana version.

## [Unreleased]

Solana version: 1.17.0

| Instruction                 | Compute Units | +/-                    |
| --------------------------- | ------------- | ---------------------- |
| accountInfo1                | 584           | 游릭 **-431 (42.46%)**   |
| accountInfo2                | 824           | 游릭 **-651 (44.14%)**   |
| accountInfo4                | 1,319         | 游릭 **-645 (32.84%)**   |
| accountInfo8                | 2,531         | 游릭 **-1,310 (34.11%)** |
| accountEmptyInit1           | 5,521         | 游릭 **-296 (5.09%)**    |
| accountEmpty1               | 777           | 游릭 **-372 (32.38%)**   |
| accountEmptyInit2           | 10,111        | 游릭 **-291 (2.80%)**    |
| accountEmpty2               | 1,207         | 游릭 **-547 (31.19%)**   |
| accountEmptyInit4           | 19,044        | 游릭 **-464 (2.38%)**    |
| accountEmpty4               | 2,074         | 游릭 **-466 (18.35%)**   |
| accountEmptyInit8           | 37,265        | -                      |
| accountEmpty8               | 3,967         | 游릭 **-1,049 (20.91%)** |
| accountSizedInit1           | 5,626         | 游릭 **-298 (5.03%)**    |
| accountSized1               | 786           | 游릭 **-428 (35.26%)**   |
| accountSizedInit2           | 10,322        | 游릭 **-358 (3.35%)**    |
| accountSized2               | 1,234         | 游릭 **-639 (34.12%)**   |
| accountSizedInit4           | 19,462        | 游릭 **-508 (2.54%)**    |
| accountSized4               | 2,135         | 游릭 **-627 (22.70%)**   |
| accountSizedInit8           | 38,122        | -                      |
| accountSized8               | 4,104         | 游릭 **-1,249 (23.33%)** |
| accountUnsizedInit1         | 5,742         | 游릭 **-310 (5.12%)**    |
| accountUnsized1             | 821           | 游릭 **-517 (38.64%)**   |
| accountUnsizedInit2         | 10,551        | 游릭 **-378 (3.46%)**    |
| accountUnsized2             | 1,312         | 游릭 **-466 (26.21%)**   |
| accountUnsizedInit4         | 19,927        | 游릭 **-412 (2.03%)**    |
| accountUnsized4             | 2,315         | 游릭 **-821 (26.18%)**   |
| accountUnsizedInit8         | 38,699        | 游릭 **-397 (1.02%)**    |
| accountUnsized8             | 4,456         | 游릭 **-1,496 (25.13%)** |
| boxedAccountEmptyInit1      | 5,452         | 游릭 **-582 (9.65%)**    |
| boxedAccountEmpty1          | 866           | 游릭 **-22 (2.48%)**     |
| boxedAccountEmptyInit2      | 10,051        | 游릭 **-582 (5.47%)**    |
| boxedAccountEmpty2          | 1,377         | 游릭 **-24 (1.71%)**     |
| boxedAccountEmptyInit4      | 19,030        | 游릭 **-281 (1.46%)**    |
| boxedAccountEmpty4          | 2,396         | 游릭 **-28 (1.16%)**     |
| boxedAccountEmptyInit8      | 37,136        | -                      |
| boxedAccountEmpty8          | 4,472         | 游릭 **-187 (4.01%)**    |
| boxedAccountSizedInit1      | 5,546         | 游릭 **-584 (9.53%)**    |
| boxedAccountSized1          | 895           | 游릭 **-22 (2.40%)**     |
| boxedAccountSizedInit2      | 10,242        | 游릭 **-586 (5.41%)**    |
| boxedAccountSized2          | 1,439         | 游릭 **-24 (1.64%)**     |
| boxedAccountSizedInit4      | 19,414        | 游릭 **-289 (1.47%)**    |
| boxedAccountSized4          | 2,515         | 游릭 **-28 (1.10%)**     |
| boxedAccountSizedInit8      | 37,919        | -                      |
| boxedAccountSized8          | 4,711         | 游릭 **-187 (3.82%)**    |
| boxedAccountUnsizedInit1    | 5,823         | 游릭 **-417 (6.68%)**    |
| boxedAccountUnsized1        | 950           | 游릭 **-22 (2.26%)**     |
| boxedAccountUnsizedInit2    | 10,621        | 游릭 **-427 (3.86%)**    |
| boxedAccountUnsized2        | 1,549         | 游릭 **-21 (1.34%)**     |
| boxedAccountUnsizedInit4    | 19,825        | 游릭 **-313 (1.55%)**    |
| boxedAccountUnsized4        | 2,737         | 游릭 **-31 (1.12%)**     |
| boxedAccountUnsizedInit8    | 38,791        | 游릭 **-9 (0.02%)**      |
| boxedAccountUnsized8        | 5,207         | 游릭 **-140 (2.62%)**    |
| boxedInterfaceAccountMint1  | 2,137         | 游릭 **-159 (6.93%)**    |
| boxedInterfaceAccountMint2  | 3,849         | 游릭 **-280 (6.78%)**    |
| boxedInterfaceAccountMint4  | 7,215         | 游릭 **-568 (7.30%)**    |
| boxedInterfaceAccountMint8  | 14,044        | 游릭 **-1,237 (8.10%)**  |
| boxedInterfaceAccountToken1 | 2,066         | 游댮 **+43 (2.13%)**     |
| boxedInterfaceAccountToken2 | 3,706         | 游댮 **+124 (3.46%)**    |
| boxedInterfaceAccountToken4 | 6,932         | 游댮 **+240 (3.59%)**    |
| boxedInterfaceAccountToken8 | 13,477        | 游댮 **+379 (2.89%)**    |
| interfaceAccountMint1       | 2,313         | 游릭 **-51 (2.16%)**     |
| interfaceAccountMint2       | 4,270         | 游릭 **-760 (15.11%)**   |
| interfaceAccountMint4       | 8,185         | 游릭 **-1,618 (16.51%)** |
| interfaceAccountMint8       | 16,007        | 游릭 **-2,393 (13.01%)** |
| interfaceAccountToken1      | 2,059         | 游릭 **-32 (1.53%)**     |
| interfaceAccountToken2      | 3,958         | 游댮 **+10 (0.25%)**     |
| interfaceAccountToken4      | 7,816         | 游댮 **+269 (3.56%)**    |
| interface1                  | 691           | 游릭 **-368 (34.75%)**   |
| interface2                  | 940           | 游릭 **-539 (36.44%)**   |
| interface4                  | 1,450         | 游릭 **-450 (23.68%)**   |
| interface8                  | 2,605         | 游릭 **-1,041 (28.55%)** |
| program1                    | 685           | 游릭 **-368 (34.95%)**   |
| program2                    | 928           | 游릭 **-539 (36.74%)**   |
| program4                    | 1,428         | 游릭 **-450 (23.96%)**   |
| program8                    | 2,557         | 游릭 **-1,041 (28.93%)** |
| signer1                     | 621           | 游릭 **-397 (39.00%)**   |
| signer2                     | 895           | 游릭 **-589 (39.69%)**   |
| signer4                     | 1,455         | 游릭 **-529 (26.66%)**   |
| signer8                     | 2,721         | 游릭 **-1,159 (29.87%)** |
| systemAccount1              | 675           | 游릭 **-397 (37.03%)**   |
| systemAccount2              | 1,001         | 游릭 **-589 (37.04%)**   |
| systemAccount4              | 1,666         | 游릭 **-529 (24.10%)**   |
| systemAccount8              | 3,146         | 游릭 **-1,159 (26.92%)** |
| uncheckedAccount1           | 583           | 游릭 **-431 (42.50%)**   |
| uncheckedAccount2           | 824           | 游릭 **-651 (44.14%)**   |
| uncheckedAccount4           | 1,320         | 游릭 **-645 (32.82%)**   |
| uncheckedAccount8           | 2,531         | 游릭 **-1,310 (34.11%)** |

### Notable changes

- `Box` the `anchor_lang::Result` error variants ([#2600](https://github.com/coral-xyz/anchor/pull/2600)).

---

## [0.28.0]

Solana version: 1.16.0

| Instruction                 | Compute Units | +/-                    |
| --------------------------- | ------------- | ---------------------- |
| accountInfo1                | 1,015         | 游댮 **+61 (6.39%)**     |
| accountInfo2                | 1,475         | 游릭 **-92 (5.87%)**     |
| accountInfo4                | 1,964         | 游릭 **-95 (4.61%)**     |
| accountInfo8                | 3,841         | 游릭 **-15 (0.39%)**     |
| accountEmptyInit1           | 5,817         | 游릭 **-141 (2.37%)**    |
| accountEmpty1               | 1,149         | 游댮 **+59 (5.41%)**     |
| accountEmptyInit2           | 10,402        | 游릭 **-172 (1.63%)**    |
| accountEmpty2               | 1,754         | 游릭 **-98 (5.29%)**     |
| accountEmptyInit4           | 19,508        | 游릭 **-49 (0.25%)**     |
| accountEmpty4               | 2,540         | 游릭 **-106 (4.01%)**    |
| accountEmptyInit8           | 37,265        | 游릭 **-276 (0.74%)**    |
| accountEmpty8               | 5,016         | 游릭 **-27 (0.54%)**     |
| accountSizedInit1           | 5,924         | 游릭 **-139 (2.29%)**    |
| accountSized1               | 1,214         | 游댮 **+79 (6.96%)**     |
| accountSizedInit2           | 10,680        | 游릭 **-103 (0.96%)**    |
| accountSized2               | 1,873         | 游릭 **-93 (4.73%)**     |
| accountSizedInit4           | 19,970        | 游릭 **-5 (0.03%)**      |
| accountSized4               | 2,762         | 游릭 **-25 (0.90%)**     |
| accountSizedInit8           | 38,122        | 游릭 **-259 (0.67%)**    |
| accountSized8               | 5,353         | 游릭 **-6 (0.11%)**      |
| accountUnsizedInit1         | 6,052         | 游릭 **-141 (2.28%)**    |
| accountUnsized1             | 1,338         | 游댮 **+95 (7.64%)**     |
| accountUnsizedInit2         | 10,929        | 游릭 **-113 (1.02%)**    |
| accountUnsized2             | 1,778         | 游릭 **-115 (6.08%)**    |
| accountUnsizedInit4         | 20,339        | 游릭 **-156 (0.76%)**    |
| accountUnsized4             | 3,136         | 游댮 **+32 (1.03%)**     |
| accountUnsizedInit8         | 39,096        | 游릭 **-323 (0.82%)**    |
| accountUnsized8             | 5,952         | 游릭 **-99 (1.64%)**     |
| boxedAccountEmptyInit1      | 6,034         | 游릭 **-126 (2.05%)**    |
| boxedAccountEmpty1          | 888           | 游릭 **-88 (9.02%)**     |
| boxedAccountEmptyInit2      | 10,633        | 游릭 **-151 (1.40%)**    |
| boxedAccountEmpty2          | 1,401         | 游릭 **-98 (6.54%)**     |
| boxedAccountEmptyInit4      | 19,311        | 游릭 **-189 (0.97%)**    |
| boxedAccountEmpty4          | 2,424         | 游릭 **-106 (4.19%)**    |
| boxedAccountEmptyInit8      | 37,136        | 游릭 **-279 (0.75%)**    |
| boxedAccountEmpty8          | 4,659         | 游릭 **-121 (2.53%)**    |
| boxedAccountSizedInit1      | 6,130         | 游릭 **-126 (2.01%)**    |
| boxedAccountSized1          | 917           | 游릭 **-86 (8.57%)**     |
| boxedAccountSizedInit2      | 10,828        | 游릭 **-147 (1.34%)**    |
| boxedAccountSized2          | 1,463         | 游릭 **-91 (5.86%)**     |
| boxedAccountSizedInit4      | 19,703        | 游릭 **-181 (0.91%)**    |
| boxedAccountSized4          | 2,543         | 游릭 **-99 (3.75%)**     |
| boxedAccountSizedInit8      | 37,919        | 游릭 **-263 (0.69%)**    |
| boxedAccountSized8          | 4,898         | 游릭 **-105 (2.10%)**    |
| boxedAccountUnsizedInit1    | 6,240         | 游릭 **-134 (2.10%)**    |
| boxedAccountUnsized1        | 972           | 游릭 **-97 (9.07%)**     |
| boxedAccountUnsizedInit2    | 11,048        | 游릭 **-163 (1.45%)**    |
| boxedAccountUnsized2        | 1,570         | 游릭 **-109 (6.49%)**    |
| boxedAccountUnsizedInit4    | 20,138        | 游릭 **-213 (1.05%)**    |
| boxedAccountUnsized4        | 2,768         | 游릭 **-131 (4.52%)**    |
| boxedAccountUnsizedInit8    | 38,800        | 游릭 **-318 (0.81%)**    |
| boxedAccountUnsized8        | 5,347         | 游릭 **-170 (3.08%)**    |
| boxedInterfaceAccountMint1  | 2,296         | 游릭 **-3 (0.13%)**      |
| boxedInterfaceAccountMint2  | 4,129         | 游댮 **+76 (1.88%)**     |
| boxedInterfaceAccountMint4  | 7,783         | 游댮 **+245 (3.25%)**    |
| boxedInterfaceAccountMint8  | 15,281        | 游댮 **+582 (3.96%)**    |
| boxedInterfaceAccountToken1 | 2,023         | 游댮 **+286 (16.47%)**   |
| boxedInterfaceAccountToken2 | 3,582         | 游댮 **+654 (22.34%)**   |
| boxedInterfaceAccountToken4 | 6,692         | 游댮 **+1,401 (26.48%)** |
| boxedInterfaceAccountToken8 | 13,098        | 游댮 **+2,893 (28.35%)** |
| interfaceAccountMint1       | 2,364         | 游릭 **-166 (6.56%)**    |
| interfaceAccountMint2       | 5,030         | 游댮 **+304 (6.43%)**    |
| interfaceAccountMint4       | 9,803         | 游댮 **+372 (3.94%)**    |
| interfaceAccountMint8       | 18,400        | 游댮 **+691 (3.90%)**    |
| interfaceAccountToken1      | 2,091         | 游댮 **+336 (19.15%)**   |
| interfaceAccountToken2      | 3,948         | 游댮 **+737 (22.95%)**   |
| interfaceAccountToken4      | 7,547         | 游댮 **+1,541 (25.66%)** |
| interface1                  | 1,059         | 游댮 **+60 (6.01%)**     |
| interface2                  | 1,479         | 游릭 **-95 (6.04%)**     |
| interface4                  | 1,900         | 游릭 **-96 (4.81%)**     |
| interface8                  | 3,646         | 游릭 **-5 (0.14%)**      |
| program1                    | 1,053         | 游댮 **+54 (5.41%)**     |
| program2                    | 1,467         | 游릭 **-106 (6.74%)**    |
| program4                    | 1,878         | 游릭 **-120 (6.01%)**    |
| program8                    | 3,598         | 游릭 **-53 (1.45%)**     |
| signer1                     | 1,018         | 游댮 **+60 (6.26%)**     |
| signer2                     | 1,484         | 游릭 **-92 (5.84%)**     |
| signer4                     | 1,984         | 游릭 **-95 (4.57%)**     |
| signer8                     | 3,880         | 游릭 **-15 (0.39%)**     |
| systemAccount1              | 1,072         | 游댮 **+59 (5.82%)**     |
| systemAccount2              | 1,590         | 游릭 **-96 (5.69%)**     |
| systemAccount4              | 2,195         | 游릭 **-103 (4.48%)**    |
| systemAccount8              | 4,305         | 游릭 **-31 (0.71%)**     |
| uncheckedAccount1           | 1,014         | 游댮 **+61 (6.40%)**     |
| uncheckedAccount2           | 1,475         | 游릭 **-92 (5.87%)**     |
| uncheckedAccount4           | 1,965         | 游릭 **-95 (4.61%)**     |
| uncheckedAccount8           | 3,841         | 游릭 **-14 (0.36%)**     |

### Notable changes

- Upgrading Solana to `1.16`. The difference in compute units usage between `0.27.0` and `0.28.0` is the direct result of upgrading Solana version(both build tools and crates) ([#2512](https://github.com/coral-xyz/anchor/pull/2512)).

---

## [0.27.0]

Solana version: 1.14.16

| Instruction                 | Compute Units | +/- |
| --------------------------- | ------------- | --- |
| accountInfo1                | 954           | N/A |
| accountInfo2                | 1,567         | N/A |
| accountInfo4                | 2,059         | N/A |
| accountInfo8                | 3,856         | N/A |
| accountEmptyInit1           | 5,958         | N/A |
| accountEmpty1               | 1,090         | N/A |
| accountEmptyInit2           | 10,574        | N/A |
| accountEmpty2               | 1,852         | N/A |
| accountEmptyInit4           | 19,557        | N/A |
| accountEmpty4               | 2,646         | N/A |
| accountEmptyInit8           | 37,541        | N/A |
| accountEmpty8               | 5,043         | N/A |
| accountSizedInit1           | 6,063         | N/A |
| accountSized1               | 1,135         | N/A |
| accountSizedInit2           | 10,783        | N/A |
| accountSized2               | 1,966         | N/A |
| accountSizedInit4           | 19,975        | N/A |
| accountSized4               | 2,787         | N/A |
| accountSizedInit8           | 38,381        | N/A |
| accountSized8               | 5,359         | N/A |
| accountUnsizedInit1         | 6,193         | N/A |
| accountUnsized1             | 1,243         | N/A |
| accountUnsizedInit2         | 11,042        | N/A |
| accountUnsized2             | 1,893         | N/A |
| accountUnsizedInit4         | 20,495        | N/A |
| accountUnsized4             | 3,104         | N/A |
| accountUnsizedInit8         | 39,419        | N/A |
| accountUnsized8             | 6,051         | N/A |
| boxedAccountEmptyInit1      | 6,160         | N/A |
| boxedAccountEmpty1          | 976           | N/A |
| boxedAccountEmptyInit2      | 10,784        | N/A |
| boxedAccountEmpty2          | 1,499         | N/A |
| boxedAccountEmptyInit4      | 19,500        | N/A |
| boxedAccountEmpty4          | 2,530         | N/A |
| boxedAccountEmptyInit8      | 37,415        | N/A |
| boxedAccountEmpty8          | 4,780         | N/A |
| boxedAccountSizedInit1      | 6,256         | N/A |
| boxedAccountSized1          | 1,003         | N/A |
| boxedAccountSizedInit2      | 10,975        | N/A |
| boxedAccountSized2          | 1,554         | N/A |
| boxedAccountSizedInit4      | 19,884        | N/A |
| boxedAccountSized4          | 2,642         | N/A |
| boxedAccountSizedInit8      | 38,182        | N/A |
| boxedAccountSized8          | 5,003         | N/A |
| boxedAccountUnsizedInit1    | 6,374         | N/A |
| boxedAccountUnsized1        | 1,069         | N/A |
| boxedAccountUnsizedInit2    | 11,211        | N/A |
| boxedAccountUnsized2        | 1,679         | N/A |
| boxedAccountUnsizedInit4    | 20,351        | N/A |
| boxedAccountUnsized4        | 2,899         | N/A |
| boxedAccountUnsizedInit8    | 39,118        | N/A |
| boxedAccountUnsized8        | 5,517         | N/A |
| boxedInterfaceAccountMint1  | 2,299         | N/A |
| boxedInterfaceAccountMint2  | 4,053         | N/A |
| boxedInterfaceAccountMint4  | 7,538         | N/A |
| boxedInterfaceAccountMint8  | 14,699        | N/A |
| boxedInterfaceAccountToken1 | 1,737         | N/A |
| boxedInterfaceAccountToken2 | 2,928         | N/A |
| boxedInterfaceAccountToken4 | 5,291         | N/A |
| boxedInterfaceAccountToken8 | 10,205        | N/A |
| interfaceAccountMint1       | 2,530         | N/A |
| interfaceAccountMint2       | 4,726         | N/A |
| interfaceAccountMint4       | 9,431         | N/A |
| interfaceAccountMint8       | 17,709        | N/A |
| interfaceAccountToken1      | 1,755         | N/A |
| interfaceAccountToken2      | 3,211         | N/A |
| interfaceAccountToken4      | 6,006         | N/A |
| interface1                  | 999           | N/A |
| interface2                  | 1,574         | N/A |
| interface4                  | 1,996         | N/A |
| interface8                  | 3,651         | N/A |
| program1                    | 999           | N/A |
| program2                    | 1,573         | N/A |
| program4                    | 1,998         | N/A |
| program8                    | 3,651         | N/A |
| signer1                     | 958           | N/A |
| signer2                     | 1,576         | N/A |
| signer4                     | 2,079         | N/A |
| signer8                     | 3,895         | N/A |
| systemAccount1              | 1,013         | N/A |
| systemAccount2              | 1,686         | N/A |
| systemAccount4              | 2,298         | N/A |
| systemAccount8              | 4,336         | N/A |
| uncheckedAccount1           | 953           | N/A |
| uncheckedAccount2           | 1,567         | N/A |
| uncheckedAccount4           | 2,060         | N/A |
| uncheckedAccount8           | 3,855         | N/A |

---
